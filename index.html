<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reference Overlay — Control</title>
  <link rel="stylesheet" href="css/control.css" />
</head>
<body>

<div class="app">

  <!-- ── Header ──────────────────────────────────────────────────────────── -->
  <header class="app-header">
    <div class="header-left">
      <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="3" width="20" height="14" rx="2"/>
        <path d="M8 21h8M12 17v4"/>
        <path d="M7 8h2M7 11h6"/>
      </svg>
      <h1>Reference Overlay</h1>
    </div>
    <div class="header-right">
      <span id="status-pill" class="status-pill status-off">OFF AIR</span>
      <button class="btn-output-link" id="btn-open-output" onclick="openOutputWindow()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
        Output Window
      </button>
    </div>
  </header>

  <!-- ── Mode Toggle ──────────────────────────────────────────────────────── -->
  <div class="mode-toggle">
    <button id="tab-bible" class="mode-tab active" onclick="setMode('bible')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
      Bible Reference
    </button>
    <button id="tab-speaker" class="mode-tab" onclick="setMode('speaker')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      Speaker
    </button>
  </div>

  <!-- ── Main Content ─────────────────────────────────────────────────────── -->
  <main class="app-main">

    <!-- ── Bible Reference Panel ──────────────────────────────────────────── -->
    <section id="panel-bible" class="panel">
      <div class="field-grid">

        <div class="field-group span-2">
          <label for="book">Book</label>
          <select id="book" onchange="onBibleChange()">
            <optgroup label="Old Testament" id="optgroup-ot"></optgroup>
            <optgroup label="New Testament" id="optgroup-nt"></optgroup>
          </select>
        </div>

        <div class="field-group">
          <label for="chapter">Chapter</label>
          <input type="number" id="chapter" min="1" max="150" value="3"
                 onchange="onBibleChange()" oninput="onBibleChange()" />
        </div>

        <div class="field-group">
          <label for="verse-start">Verse</label>
          <input type="number" id="verse-start" min="1" max="176" value="19"
                 placeholder="e.g. 3"
                 onchange="onBibleChange()" oninput="onBibleChange()" />
        </div>

        <div class="field-group">
          <label for="verse-end">
            To Verse
            <span class="label-hint">optional</span>
          </label>
          <input type="number" id="verse-end" min="1" max="176" value=""
                 placeholder="e.g. 21"
                 onchange="onBibleChange()" oninput="onBibleChange()" />
        </div>

        <div class="field-group span-2">
          <label for="translation">Translation</label>
          <select id="translation" onchange="onBibleChange()"></select>
        </div>

      </div>
    </section>

    <!-- ── Speaker Panel ──────────────────────────────────────────────────── -->
    <section id="panel-speaker" class="panel hidden">
      <div class="field-grid">

        <div class="field-group span-full">
          <label for="speaker-name">Speaker Name</label>
          <input type="text" id="speaker-name"
                 placeholder="e.g. Suresh Abraham"
                 onchange="onSpeakerChange()" oninput="onSpeakerChange()" />
        </div>

        <div class="field-group span-full">
          <label for="speaker-title">
            Title / Role
            <span class="label-hint">optional</span>
          </label>
          <input type="text" id="speaker-title"
                 placeholder="e.g. Senior Pastor"
                 onchange="onSpeakerChange()" oninput="onSpeakerChange()" />
        </div>

      </div>
    </section>

    <!-- ── Preview ────────────────────────────────────────────────────────── -->
    <section class="preview-section">
      <div class="preview-label">Preview</div>
      <div class="preview-viewport">
        <div class="preview-bg"></div>
        <div class="lower-third-wrap" id="preview-wrap">
          <div class="lower-third" id="preview-lower-third">
            <div class="lt-accent"></div>
            <div class="lt-text">
              <div class="lt-line1" id="preview-line1">Revelation 3:19</div>
              <div class="lt-line2" id="preview-line2">King James Version</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ── Action Buttons ─────────────────────────────────────────────────── -->
    <section class="actions">
      <button class="btn-show" id="btn-show" onclick="sendShow()">
        <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>
        SHOW
      </button>
      <button class="btn-clear" id="btn-clear" onclick="sendClear()">
        <svg viewBox="0 0 24 24" fill="currentColor"><rect x="3" y="3" width="18" height="18" rx="2"/></svg>
        CLEAR
      </button>
    </section>

    <!-- ── Settings ───────────────────────────────────────────────────────── -->
    <details class="settings-panel">
      <summary>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M4.93 4.93a10 10 0 0 0 0 14.14"/><path d="M12 2v2M12 20v2M2 12h2M20 12h2"/></svg>
        Settings
      </summary>
      <div class="settings-body">

        <div class="setting-row">
          <div class="setting-group">
            <label class="setting-label">Chroma Key Background</label>
            <div class="chroma-options">
              <label class="chroma-opt">
                <input type="radio" name="chroma" value="#0000FF" checked onchange="onSettingsChange()" />
                <span class="chroma-swatch" style="background:#0000FF;"></span>
                Blue
              </label>
              <label class="chroma-opt">
                <input type="radio" name="chroma" value="#00B140" onchange="onSettingsChange()" />
                <span class="chroma-swatch" style="background:#00B140;"></span>
                Green
              </label>
              <label class="chroma-opt">
                <input type="radio" name="chroma" value="#FF00FF" onchange="onSettingsChange()" />
                <span class="chroma-swatch" style="background:#FF00FF;"></span>
                Magenta
              </label>
              <label class="chroma-opt custom-chroma-opt">
                <input type="radio" name="chroma" value="custom" onchange="onSettingsChange()" />
                <input type="color" id="custom-chroma-color" value="#0047AB"
                       oninput="onCustomChromaChange()" onchange="onCustomChromaChange()" />
                Custom
              </label>
            </div>
          </div>
        </div>

        <div class="setting-row">
          <div class="setting-group">
            <label class="setting-label" for="anim-select">Animation</label>
            <select id="anim-select" onchange="onSettingsChange()">
              <option value="fade">Fade</option>
              <option value="slide">Slide Up</option>
              <option value="none">None (Instant)</option>
            </select>
          </div>

          <div class="setting-group">
            <label class="setting-label" for="style-select">Lower Third Style</label>
            <select id="style-select" onchange="onSettingsChange()">
              <option value="classic">Classic — Dark bar</option>
              <option value="accent">Accent line</option>
              <option value="minimal">Minimal — text only</option>
              <option value="outline">Outlined text</option>
            </select>
          </div>
        </div>

        <div class="setting-row">
          <div class="setting-group">
            <label class="setting-label" for="accent-color">Accent Color</label>
            <input type="color" id="accent-color" value="#C8A951" onchange="onSettingsChange()" />
          </div>

          <div class="setting-group">
            <label class="setting-label" for="position-select">Position</label>
            <select id="position-select" onchange="onSettingsChange()">
              <option value="lower">Lower Third</option>
              <option value="upper">Upper Third</option>
              <option value="center">Centered</option>
            </select>
          </div>
        </div>

        <div class="setting-row">
          <div class="setting-group">
            <label class="setting-label" for="font-select">Font</label>
            <select id="font-select" onchange="onSettingsChange()">
              <option value="system-ui">System (Default)</option>
              <option value="'Georgia', serif">Georgia (Serif)</option>
              <option value="'Arial', sans-serif">Arial</option>
              <option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
              <option value="'Verdana', sans-serif">Verdana</option>
              <option value="'Times New Roman', serif">Times New Roman</option>
            </select>
          </div>

          <div class="setting-group">
            <label class="setting-label" for="output-res">Output Resolution</label>
            <select id="output-res" onchange="onSettingsChange()">
              <option value="1920x1080">1920 × 1080 (Full HD)</option>
              <option value="1280x720">1280 × 720 (HD)</option>
              <option value="3840x2160">3840 × 2160 (4K UHD)</option>
            </select>
          </div>
        </div>

      </div>
    </details>

    <!-- ── Keyboard Shortcut Hint ─────────────────────────────────────────── -->
    <div class="kbd-hint">
      <kbd>Enter</kbd> Show &nbsp;·&nbsp; <kbd>Esc</kbd> Clear &nbsp;·&nbsp; <kbd>B</kbd> Bible &nbsp;·&nbsp; <kbd>S</kbd> Speaker
    </div>

  </main>
</div>

<script src="js/data.js"></script>
<script src="js/control.js"></script>
</body>
</html>
